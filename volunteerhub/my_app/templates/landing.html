{% extends 'base.html' %}
{% load static %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/landing.css' %}" />
{% endblock %}

{% block content %}
  <h1>Volunteer Hub</h1>
  <h2>A community hub where you can find volunteering opportunities near you, add your own, and manage your saves.</h2>

  {% if not user.is_authenticated %}
    <section class="auth-options">
      <h2>Welcome to Volunteer Hub!</h2>
      <p>Log in to explore opportunities or sign up to join the community.</p>
      <div class="auth-buttons">
        <a href="{% url 'login' %}" class="btn">Login</a>
        <a href="{% url 'signup' %}" class="btn">Sign Up</a>
      </div>
    </section>
  {% else %}
    <section class="welcome-back">
      <h2>Welcome back, {{ user.username }}!</h2>
      <a href="{% url 'user-opps-index' %}" class="btn">Go to My Opportunities</a>
    </section>

    <section class="opportunity-container">
      {% for opportunity in opportunities %}
        <div class="card">
          <a href="{% url 'opportunity-detail' opportunity.id %}">
            <h2 class="opportunity-title">{{ opportunity.title }}</h2>
          </a>
          <p><strong>Where?</strong> {{ opportunity.location }}</p>
          <p><strong>When?</strong> {{ opportunity.date }}</p>
          <p><strong>Tags:</strong>
            {% for tag in opportunity.tags.all %}
              <span class="tag">{{ tag.name }}</span>{% if not forloop.last %}, {% endif %}
            {% empty %}
              <em>No tags</em>
            {% endfor %}
          </p>
          <p><strong>Description:</strong> <small>{{ opportunity.description }}</small></p>
        </div>
      {% empty %}
        <p>No opportunities available yet. Be the first to add one!</p>
      {% endfor %}
    </section>
  {% endif %}
{% endblock %}